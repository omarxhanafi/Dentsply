["{\"nodes\":{\"Extract Account for Security\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"OneSF_Id__c\"}],\"object\":\"Account\"}},\"Import Calendar\":{\"action\":\"dataset\",\"parameters\":{\"name\":\"Calendar\"}},\"Join Security\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Account__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"ac\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Id\"]},\"sources\":[\"Add Time Flags\",\"Extract Account for Security\"]},\"Join Products\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Product__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Products\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Global.SBU_Code__c\",\"oph.Variety\",\"Global.PG2_Desc__c\",\"Global.Brand__c\",\"Global.BrandDescGDW__c\",\"Global.Business_Area_Description__c\",\"Global.Dashboard_Product__c\",\"Global.SBU_Name__c\",\"oph.SubBrand\",\"Id\",\"Global.GPP_Desc__c\",\"Global.PG2_Code__c\",\"Description\",\"Global.QuotaProducts.Quota_Group\",\"oph.VendorName\",\"Article__c\",\"Global.Product_Category__c\",\"oph.ProductLine\",\"RecordTypeId\",\"Market__c\",\"oph.Brand\",\"Global.PG3_Code__c\",\"ERP_Source_Description__c\",\"oph.ERPCompanyCode\",\"Global.BrandCodeGDW__c\",\"SKUKey__c\",\"oph.SubSegment\",\"Global.PG1_Desc__c\",\"oph.Mapping.SalesChannel\",\"Global.QuotaProducts.Quota_Sub_Group\",\"Global.PG4_Desc__c\",\"Global.Business_Area_Code__c\",\"Name\",\"oph.Category\",\"Global.Product_Line__c\",\"oph.Segment\",\"Global.Business_Area_Name__c\",\"Global.Business_Area_Brand__c\",\"Global.GPP_Code__c\",\"Global.PG3_Desc__c\",\"IsActive\",\"Global.PG4_Code__c\",\"RecordType.Name\",\"GlobalSKUMapping__c\",\"Global.Pricebook.Pricebook.Name\",\"Company_Code__c\",\"Global.Pricebook.Pricebook.Id\",\"Global.QuotaProducts.Iberia_SBU_Group\",\"Global.PG1_Code__c\",\"oph.CatalogName\",\"oph.SKU\",\"oph.Division\",\"ERP_Source__c\",\"Global.List_Price__c\",\"oph.Devices\",\"oph.isDashboardProduct\",\"SKUKey_Upper\",\"Global.PillarDesc__c\",\"Global.BrandCategory__c\",\"Global.BrandType__c\",\"Global.SegmentName__c\",\"FactoryDesc__c\",\"CommissionGroup__c\",\"DEPUniqueKey__c\",\"SourceSystemName__c\"]},\"sources\":[\"Join Accounts\",\"Products - Uppercase SKU Key\"]},\"Extract OpenOrderLine\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Account__c\"},{\"name\":\"CompanyCode__c\"},{\"name\":\"CurrencyIsoCode\"},{\"name\":\"CustomerMasterUniqueKey__c\"},{\"name\":\"CustomerNo__c\"},{\"name\":\"CustomerOrderLineNo__c\"},{\"name\":\"CustomerOrderNo__c\"},{\"name\":\"CustomerOrderTypeName__c\"},{\"name\":\"CustomerOrderType__c\"},{\"name\":\"CustomerSalesGroup__c\"},{\"name\":\"DeliveredMfgQty__c\"},{\"name\":\"DeliveredQuantity__c\"},{\"name\":\"DelValueNotInvoiced_Inv__c\"},{\"name\":\"DelValueNotInvoiced__c\"},{\"name\":\"EntityCode__c\"},{\"name\":\"GDWUniqueKey__c\"},{\"name\":\"GlobalItemMasterUniqueKey__c\"},{\"name\":\"GlobalSKU__c\"},{\"name\":\"InvoiceCurrency__c\"},{\"name\":\"LoadTimeStamp__c\"},{\"name\":\"LocalItemMasterUniqueKey__c\"},{\"name\":\"LocalSKU__c\"},{\"name\":\"Name\"},{\"name\":\"OrderCurrency__c\"},{\"name\":\"OrderedMfgQty__c\"},{\"name\":\"OrderedQuantity__c\"},{\"name\":\"OrderEntryDate__c\"},{\"name\":\"OrderValueNotInvoiced__c\"},{\"name\":\"OrderValueNotInvoiced_Inv__c\"},{\"name\":\"RemainingMfgQty__c\"},{\"name\":\"RemainingQuantity__c\"},{\"name\":\"SalesOrderStatus__c\",\"type\":\"Text\"},{\"name\":\"SalesTypeCode__c\"},{\"name\":\"ShipDateConfirmed__c\"},{\"name\":\"ShipDateRequested__c\"},{\"name\":\"ShipDate__c\"},{\"name\":\"ShipToCountry__c\"},{\"name\":\"SourceId__c\",\"type\":\"Text\"},{\"name\":\"Id\"},{\"name\":\"SiteId__c\"},{\"name\":\"SalesOrigin__c\"},{\"name\":\"PracticeId__c\"},{\"name\":\"PatientCaseId__c\"},{\"name\":\"CreatedDate\"},{\"name\":\"Product__c\"}],\"object\":\"OpenOrderLine__c\"}},\"Compute Local Values\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"defaultValue\":\"0\",\"label\":\"OrderValueNotInvoicedLocalCurrency\",\"name\":\"OrderValueNotInvoicedLocalCurrency\",\"precision\":18,\"saqlExpression\":\"'OrderValueNotInvoiced__c' * 'Currency.ConversionRate'\",\"scale\":2,\"type\":\"Numeric\"},{\"defaultValue\":\"0\",\"label\":\"DelValueNotInvoicedLocalCurrency\",\"name\":\"DelValueNotInvoicedLocalCurrency\",\"precision\":18,\"saqlExpression\":\"'DelValueNotInvoiced__c' * 'Currency.ConversionRate'\",\"scale\":2,\"type\":\"Numeric\"},{\"firstDayOfWeek\":0,\"format\":\"yyyy-MM-dd\",\"isYearEndFiscalYear\":false,\"label\":\"CreatedDate_For_Join\",\"name\":\"CreatedDate_For_Join\",\"saqlExpression\":\"toDate(substr('CreatedDate',1,10),\\\"yyyy-MM-dd\\\")\",\"type\":\"Date\"},{\"label\":\"Sales Order Status\",\"name\":\"SalesOrderStatus\",\"saqlExpression\":\"case \\nwhen 'SalesOrderStatus__c' in [\\\"1.\\\",\\\"2.\\\", \\\"3.\\\", \\\"4.\\\"] then substr('SalesOrderStatus__c', 1, 1) \\nelse 'SalesOrderStatus__c' \\nend\",\"type\":\"Text\"},{\"label\":\"Order Type\",\"name\":\"OrderType\",\"saqlExpression\":\"\\tcase \\n\\t\\twhen 'SourceId__c' == \\\"1.\\\" then \\n\\t\\t\\tcase \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"0\\\")==true then \\\"Atlantis/ Simplant orders\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"1\\\")==true then \\\"Adjustment ordrers - no inventory movement\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"2\\\")==true then \\\"Adjustment order negative- no inventory movement\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"3\\\")==true then \\\"Local order type - few countries, used in different ways\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"5\\\")==true then \\\"US and CA - adjusment order type. No inventory transaction.\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"6\\\")==true then \\\"Vouchers - no inventory movement\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"7\\\")==true then \\\"Atlantis - remake order. No charge to the customer\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"8\\\")==true then \\\"Consignment - order to remove items from the consigment stock\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"9\\\")==true then \\\"Consigment negative order - put items back into consigment stock\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"A\\\")==true then \\\"Normal order with monthly invoice\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"B\\\")==true then \\\"Not in use\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"C\\\")==true then \\\"Stock affecting credit note\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"D\\\")==true then \\\"Stock affecting order without picking list. Stock affecting order type. Used for corrections.\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"1\\\")==true then \\\"Adjustment ordrers - no inventory movement\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"1\\\")==true then \\\"Adjustment ordrers - no inventory movement\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"E\\\")==true then \\\"EDI order\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"F\\\")==true then \\\"Order type for invoicing of charges, normally freight charges\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"M\\\")==true then \\\"US e-commerce credit card order type\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"N\\\")==true then \\\"Normal order type\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"P\\\")==true then \\\"Proforma - no real order\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"Q\\\")==true then \\\"Quotation  - no real order\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"R\\\")==true then \\\"Replacement for complaints. The customers are compensated with new item to zero charge.\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"S\\\")==true then \\\"Sample order type. Zero charge to the customer\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"T\\\")==true then \\\"Credit sample order type. Zero charge to the customer\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"U\\\")==true then \\\"US and CA - order type 100% for training purposes\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"W\\\")==true then \\\"Web/ e-commerce order\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"X\\\")==true then \\\"Credit for returned items\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"Y\\\")==true then \\\"US EDI order\\\" \\n\\t\\t\\t\\twhen ends_with('CustomerOrderType__c', \\\"Z\\\")==true then \\\"Credit for a complaint. Instead of getting items as compensation, the customer gets a credit\\\"  \\n\\t\\t\\t\\telse 'CustomerOrderTypeName__c' \\n\\t\\t\\tend \\n\\t\\twhen 'SourceId__c' == \\\"2.\\\" then 'SalesOrigin__c' \\n\\t\\telse 'CustomerOrderTypeName__c' \\n\\tend\",\"type\":\"Text\"},{\"label\":\"Order Status\",\"name\":\"OrderStatus\",\"saqlExpression\":\"case when 'SourceId__c'==\\\"2.\\\" then case when 'SalesOrderStatus__c' in [\\\"2\\\", \\\"3\\\"] then \\\"Shipped\\\" when 'SalesOrderStatus__c' == \\\"4\\\" then \\\"Cancelled\\\" else case when toDate('ShipDateRequested__c',\\\"yyyy-MM-dd\\\")>=now() then \\\"In Progress\\\" else \\\"Back Order\\\" end end when 'SourceId__c'==\\\"1.\\\" then case when toDate('ShipDateRequested__c',\\\"yyyy-MM-dd\\\")>=now() && 'SalesOrderStatus__c' in [\\\"5\\\",\\\"6\\\",\\\"7\\\",\\\"8\\\",\\\"9\\\",\\\"10\\\",\\\"11\\\",\\\"12\\\",\\\"13\\\",\\\"14\\\",\\\"15\\\",\\\"16\\\",\\\"17\\\",\\\"18\\\",\\\"19\\\",\\\"20\\\",\\\"21\\\",\\\"22\\\",\\\"23\\\",\\\"24\\\",\\\"25\\\",\\\"26\\\",\\\"27\\\",\\\"28\\\",\\\"29\\\",\\\"30\\\",\\\"31\\\",\\\"32\\\",\\\"33\\\",\\\"34\\\",\\\"35\\\",\\\"36\\\",\\\"37\\\",\\\"38\\\",\\\"39\\\",\\\"40\\\",\\\"41\\\",\\\"42\\\",\\\"43\\\",\\\"44\\\",\\\"45\\\",\\\"46\\\",\\\"47\\\" ] then \\\"In Progress\\\" when toDate('ShipDateRequested__c',\\\"yyyy-MM-dd\\\")<now() && 'SalesOrderStatus__c' in [\\\"5\\\",\\\"6\\\",\\\"7\\\",\\\"8\\\",\\\"9\\\",\\\"10\\\",\\\"11\\\",\\\"12\\\",\\\"13\\\",\\\"14\\\",\\\"15\\\",\\\"16\\\",\\\"17\\\",\\\"18\\\",\\\"19\\\",\\\"20\\\",\\\"21\\\",\\\"22\\\",\\\"23\\\",\\\"24\\\",\\\"25\\\",\\\"26\\\",\\\"27\\\",\\\"28\\\",\\\"29\\\",\\\"30\\\",\\\"31\\\",\\\"32\\\",\\\"33\\\",\\\"34\\\",\\\"35\\\",\\\"36\\\",\\\"37\\\",\\\"38\\\",\\\"39\\\",\\\"40\\\",\\\"41\\\",\\\"42\\\",\\\"43\\\",\\\"44\\\",\\\"45\\\",\\\"46\\\",\\\"47\\\" ] then \\\"Back Order\\\" when 'SalesOrderStatus__c' in [\\\"66\\\",\\\"67\\\",\\\"68\\\",\\\"69\\\",\\\"70\\\",\\\"71\\\",\\\"72\\\",\\\"73\\\",\\\"74\\\",\\\"75\\\",\\\"76\\\",\\\"77\\\"] then \\\"Shipped\\\" when 'SalesOrderStatus__c' in [\\\"90\\\",\\\"99\\\"] then \\\"Cancelled\\\" else \\\"Undefined\\\" end end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Join CurrencyType\"]},\"Register Open Orders\":{\"action\":\"register\",\"parameters\":{\"label\":\"Open Orders\",\"name\":\"OpenOrders\",\"rowLevelSecurityFilter\":\"false\",\"rowLevelSharingSource\":\"Account\"},\"sources\":[\"Join Security\"]},\"Products - Uppercase SKU Key\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"SKUKey_Upper\",\"name\":\"SKUKey_Upper\",\"saqlExpression\":\"upper(SKUKey__c)\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Import Products\"]},\"Add Time Flags\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"CreatedDate_For_Join\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"time\",\"rightKey\":[\"Today\"],\"rightSelect\":[\"Year\",\"Month\",\"isCMTD\",\"isCQTD\",\"isCR12\",\"isCYTD\",\"isLast3Mo\",\"isLast3MoPY\",\"isLast6Mo\",\"isLast6MoPY\",\"isLast9Mo\",\"isLast9MoPY\",\"isP2MTD\",\"isP2QTD\",\"isP2YFull\",\"isP2YTD\",\"isPMTD\",\"isPQTD\",\"isPR12\",\"isPYFull\",\"isPYMFull\",\"isPYQFull\",\"isPYTD\"]},\"sources\":[\"Compute Local Values\",\"Import Calendar\"]},\"Import Products\":{\"action\":\"dataset\",\"parameters\":{\"name\":\"Products\"}},\"Join Accounts\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Account__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Accounts\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"gaa.Hierarchy.AreaId\",\"t.Territory.Area.Name\",\"t.Territory.Region.Region.User.Full_Name__c\",\"Customer_Group_Description__c\",\"Parent_Geographical_Area__c\",\"gaa.Hierarchy.PreferredTerritoryCode\",\"gaa.Hierarchy.Territory.TerritoryManagerId\",\"State__c\",\"gaa.Hierarchy.AreaName\",\"SegmentPreventive__c\",\"DSContact.Full_Name__c\",\"SegmentOrthodontics__c\",\"ShippingState\",\"gaa.Hierarchy.Territory.TerritoryManager\",\"ParentAccountName\",\"Clinic_Treatment_Focus__c\",\"RecordTypeId\",\"Main_DS_Contact__c\",\"ShippingCity\",\"NameLocal\",\"Continent__c\",\"Campaign.LeadSource\",\"User_Country__c\",\"OneDS.LoyaltyProgram__c\",\"gaa.Hierarchy.PreferredGeographyTypeName\",\"BillingCity\",\"gaa.Hierarchy.Territory.SalesChannel\",\"Segment_Ortho_Clear_Aligners__c\",\"Name\",\"Campaign.c.crt.Name\",\"t.Territory.Territory.User.Full_Name__c\",\"gaa.Hierarchy.RegionName\",\"Hyperion_Customer_Group__c\",\"p.Name\",\"SegmentCADCAMmanual__c\",\"OneSF_Id__c\",\"CurrencyIsoCode\",\"Sic\",\"TerritoryUsers__c\",\"ShippingStreet\",\"SegmentImplantsDigital__c\",\"t.Territory.Name\",\"BillingState\",\"Rating\",\"SegmentImplants__c\",\"Campaign.c.Name\",\"gaa.Hierarchy.RegionId\",\"Campaign.c.Id\",\"ShippingCountry\",\"SegmentLab__c\",\"AccountNumber\",\"SegmentEquipment__c\",\"BillingStreet\",\"PostalCodePrefix\",\"gaa.Hierarchy.Territory.TerritoryCode\",\"AccountSource\",\"Customer_Group__c\",\"Parent_Account_OneSF__c\",\"SegmentEndodontics__c\",\"Invoice_Movex__c\",\"Do_Not_Mail_Account__c\",\"Assigned_User_s__c\",\"Vat_Registration_No__c\",\"gaa.Hierarchy.PreferredAreaCode\",\"ShippingPostalCode\",\"AccountRecordType.Name\",\"Status__c\",\"Customer_Sub_segment__c\",\"Last_Csat_Value__pc\",\"OwnerId\",\"SegmentConsumables__c\",\"Country__c\",\"gaa.Hierarchy.PreferredRegionName\",\"SegmentTreatmentCenters__c\",\"t.Territory.Region.Name\",\"OneAccount_Type__c\",\"CustomTierLightning__c\",\"Type\",\"AccountPlan.AccountProgram.Name\",\"BillingCountry\",\"Consigment_Stock__c\",\"gaa.Hierarchy.TerritoryId\",\"SegmentRestorative__c\",\"gaa.Hierarchy.Area.AreaDirector\",\"Campaign.c.Type\",\"MainDSContactTeam__c\",\"gaa.Hierarchy.PreferredAreaName\",\"Do_Not_Call__c\",\"OneDS.Status__c\",\"BillingPostalCode\",\"gaa.Hierarchy.Region.RegionManager\",\"Segment__c\",\"ImplantsSoldBuckets\",\"OneDS.Account__c\",\"General_Info_Email__c\",\"gaa.Hierarchy.PreferredTerritoryName\",\"t.Territory.Id\",\"SegmentInstruments__c\",\"gaa.Hierarchy.PreferredRegionCode\",\"Do_Not_Fax__c\",\"gaa.Hierarchy.Area.AreaDirectorId\",\"t.Territory.Area.Area.User.Full_Name__c\",\"OneDSParticipant\",\"Provider_Sector__c\",\"SegmentDigital__c\",\"gaa.Hierarchy.TerritoryName\",\"Movex__c\",\"gaa.AccountTier.TierName\",\"Phone\",\"Sub_Account_Type__c\",\"SourceRecord.Customer_Id__c\",\"SegmentImaging__c\",\"gaa.Hierarchy.Region.RegionManagerId\",\"Germany_Implants_Account_Strategy\",\"Ortho_Case_Starts_Year__c\",\"OrdersCY__c\",\"ClearAlignersMonth__c\",\"of_Prophylaxis_Chairs__c\",\"Implants_Potential_Year__c\",\"of_open_Opportunities__c\",\"of_Dental_Students_Year__c\",\"PatientsMonth__c\",\"of_Dental_Hygienists__c\",\"of_treatment_Chairs__c\",\"of_Endo_Cases__c\",\"Last_NPS__pc\",\"OrthoCaseStartsMonth__c\",\"of_Implant_Procedures__c\",\"of_Dentists__c\",\"Last_CSat__pc\",\"of_Other__c\",\"of_Implants_Referrals_month__c\",\"FrequencyTarget\",\"of_Dental_Professionals__c\",\"OrdersLM__c\",\"of_Restorative_Cases_month__c\",\"of_Dental_Technicians__c\",\"EndoReferralsMonth__c\",\"of_Denturists__c\",\"Last_Qualtrics_Survey_Date__pc\",\"gaa.Hierarchy.ETMCountry\"]},\"sources\":[\"OOL - Uppercase Key\",\"Import Accounts\"]},\"Extract CurrencyType\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"IsoCode\"},{\"name\":\"ConversionRate\"}],\"object\":\"CurrencyType\"}},\"Join CurrencyType\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"CurrencyIsoCode\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Currency\",\"rightKey\":[\"IsoCode\"],\"rightSelect\":[\"ConversionRate\"]},\"sources\":[\"Join Products\",\"Extract CurrencyType\"]},\"Import Accounts\":{\"action\":\"dataset\",\"parameters\":{\"name\":\"Accounts_NoSharing\"}},\"OOL - Uppercase Key\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"Upper_LocalItemMasterUniqueKey__c\",\"name\":\"Upper_LocalItemMasterUniqueKey__c\",\"saqlExpression\":\"upper(LocalItemMasterUniqueKey__c)\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Extract OpenOrderLine\"]}}}",null]