["{\"nodes\":{\"Join Accounts to EventRelation_Contacts\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"AccountId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"ac\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"t.Territory.Area.Name\",\"t.Territory.Region.Region.User.Full_Name__c\",\"State__c\",\"ShippingCity\",\"Continent__c\",\"t.Territory.Area.Area.RoleInTerritory2\",\"Name\",\"t.Territory.Territory.User.Full_Name__c\",\"p.Name\",\"OneSF_Id__c\",\"t.Territory.Name\",\"AccountSource\",\"Customer_Group__c\",\"ShippingPostalCode\",\"Customer_Sub_segment__c\",\"t.Territory.Region.Region.RoleInTerritory2\",\"Country__c\",\"t.Territory.Region.Name\",\"OneAccount_Type__c\",\"Type\",\"t.Territory.Territory.RoleInTerritory2\",\"ImplantsSoldBuckets\",\"t.Territory.Id\",\"t.Territory.Area.Area.User.Full_Name__c\",\"ImplantsWonLost\",\"AccAgg.CR12.ImplantUnitsQty\",\"AccAgg.PR12.ImplantUnitsQty\",\"Sub_Account_Type__c\",\"Segment__c\",\"gaa.Hierarchy.Area.AreaDirector\",\"gaa.Hierarchy.Area.AreaDirectorId\",\"gaa.Hierarchy.AreaId\",\"gaa.Hierarchy.AreaName\",\"gaa.Hierarchy.ETMCountry\",\"gaa.Hierarchy.PrimarySalesRep\",\"gaa.Hierarchy.Region.RegionManager\",\"gaa.Hierarchy.Region.RegionManagerId\",\"gaa.Hierarchy.RegionId\",\"gaa.Hierarchy.RegionName\",\"gaa.Hierarchy.Territory.TerritoryCode\",\"gaa.Hierarchy.Territory.TerritoryManager\",\"gaa.Hierarchy.Territory.TerritoryManagerId\",\"gaa.Hierarchy.TerritoryId\",\"gaa.Hierarchy.TerritoryName\"]},\"sources\":[\"Join EventRelation to Contact\",\"Rename Account Fields\"]},\"Rename Account Fields\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"Sub_Account_Type__c\",\"name\":\"Sub_Account_Type__c\",\"saqlExpression\":\"'New_Sub_Account_Type__c'\",\"type\":\"Text\"},{\"label\":\"Rating\",\"name\":\"Rating\",\"saqlExpression\":\"'New_Rating'\",\"type\":\"Text\"},{\"label\":\"Segment__c\",\"name\":\"Segment__c\",\"saqlExpression\":\"'New_Segment__c'\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Remove Old Fields\"]},\"Remove Old Fields\":{\"action\":\"sliceDataset\",\"parameters\":{\"fields\":[{\"name\":\"Segment__c\"},{\"name\":\"Sub_Account_Type__c\"},{\"name\":\"Rating\"}],\"mode\":\"drop\"},\"sources\":[\"Normalize Account Fields\"]},\"Join Events to Event Relation\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"EventId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"event\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Activity_Subtype__c\",\"Astra_Tech_Type__c\",\"Activity_Result__c\",\"ActivityDateTime\",\"ActivityDate\",\"Call_Report__c\",\"Co_travel__c\",\"CreatedBy.Full_Name__c\",\"Customer_Facing_Event__c\",\"Dealer_Customer__c\",\"Demonstration__c\",\"Description\",\"DurationInMinutes\",\"EndDateTime\",\"Event_Status__c\",\"Objective__c\",\"Orders_Related_to_CFE__c\",\"Presentation__c\",\"Related_To_Name__c\",\"Report.Assigned_To_User_Country__c\",\"Report.Call_Notes__c\",\"Report.Left_Sample__c\",\"Report.Met_with_Assistant__c\",\"Report.Met_with_Decision_Maker__c\",\"Report.Other_SBU_discussed__c\",\"Report.Placed_Order__c\",\"Report.Products_discussed_CDCM__c\",\"Report.Products_discussed_ENDO__c\",\"Report.Products_discussed_IMAG__c\",\"Report.Products_discussed_IMPL__c\",\"Report.Products_discussed_INST__c\",\"Report.Products_discussed_ORTH__c\",\"Report.Products_discussed_PREV__c\",\"Report.Products_discussed_PROS__c\",\"Report.Products_discussed_REST__c\",\"Report.Products_discussed_TRCE__c\",\"Report.track_event__c\",\"SBU__c\",\"StartDateTime\",\"Subject\",\"User.District__c\",\"User.FieldSalesRatioPerc__c\",\"User.FullPhotoUrl\",\"User.Full_Name__c\",\"User.Implants_User__c\",\"User.IsActive\",\"User.ManagerId\",\"User.Market__c\",\"User.MediumPhotoUrl\",\"User.Movex_Uer_ID__c\",\"User.Name\",\"User.Profile__c\",\"User.Region__c\",\"User.Sales_Channel__c\",\"User.SBU_Ratio_CERE__c\",\"User.SBU_Ratio_ENDO__c\",\"User.SBU_Ratio_IMAG__c\",\"User.SBU_Ratio_IMPL__c\",\"User.SBU_Ratio_INST__c\",\"User.SBU_Ratio_ORTH__c\",\"User.SBU_Ratio_PREV__c\",\"User.SBU_Ratio_PROS__c\",\"User.SBU_Ratio_REST__c\",\"User.SBU_Ratio_TRCE__c\",\"User.Title\",\"User.UserRoleId\",\"User.User_Country__c\",\"User.User_RCO__c\",\"User.User_Type__c\"]},\"sources\":[\"Join Accounts to EventRelation_Contacts\",\"Join Event to Call Report\"]},\"Call Report Fields\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Assigned_To_User_Country__c\"},{\"name\":\"Call_Notes__c\"},{\"name\":\"Other_SBU_discussed__c\"},{\"isMultiValue\":true,\"multiValueSeparator\":\";\",\"name\":\"Products_discussed_ENDO__c\",\"type\":\"Text\"},{\"isMultiValue\":true,\"multiValueSeparator\":\";\",\"name\":\"Products_discussed_IMPL__c\",\"type\":\"Text\"},{\"isMultiValue\":true,\"multiValueSeparator\":\";\",\"name\":\"Products_discussed_ORTH__c\",\"type\":\"Text\"},{\"isMultiValue\":true,\"multiValueSeparator\":\";\",\"name\":\"Products_discussed_PREV__c\",\"type\":\"Text\"},{\"isMultiValue\":true,\"multiValueSeparator\":\";\",\"name\":\"Products_discussed_PROS__c\",\"type\":\"Text\"},{\"isMultiValue\":true,\"multiValueSeparator\":\";\",\"name\":\"Products_discussed_REST__c\",\"type\":\"Text\"},{\"name\":\"Id\"},{\"name\":\"Left_Sample__c\"},{\"name\":\"Met_with_Decision_Maker__c\"},{\"name\":\"Met_with_Assistant__c\"},{\"name\":\"Placed_Order__c\"},{\"isMultiValue\":true,\"multiValueSeparator\":\";\",\"name\":\"Products_discussed_CDCM__c\",\"type\":\"Text\"},{\"isMultiValue\":true,\"multiValueSeparator\":\";\",\"name\":\"Products_discussed_IMAG__c\",\"type\":\"Text\"},{\"isMultiValue\":true,\"multiValueSeparator\":\";\",\"name\":\"Products_discussed_INST__c\",\"type\":\"Text\"},{\"isMultiValue\":true,\"multiValueSeparator\":\";\",\"name\":\"Products_discussed_TRCE__c\",\"type\":\"Text\"},{\"name\":\"track_event__c\"}],\"object\":\"Call_Report__c\"}},\"Join User to Event - Owner\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"OwnerId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"User\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"IsActive\",\"ManagerId\",\"Name\",\"UserRoleId\",\"Title\",\"District__c\",\"Movex_Uer_ID__c\",\"FieldSalesRatioPerc__c\",\"Full_Name__c\",\"Market__c\",\"Profile__c\",\"Region__c\",\"Sales_Channel__c\",\"SBU_Ratio_CERE__c\",\"SBU_Ratio_ENDO__c\",\"SBU_Ratio_IMAG__c\",\"SBU_Ratio_IMPL__c\",\"SBU_Ratio_INST__c\",\"SBU_Ratio_ORTH__c\",\"SBU_Ratio_PREV__c\",\"SBU_Ratio_PROS__c\",\"SBU_Ratio_REST__c\",\"SBU_Ratio_TRCE__c\",\"User_Country__c\",\"User_RCO__c\",\"User_Type__c\",\"Implants_User__c\",\"FullPhotoUrl\",\"MediumPhotoUrl\",\"SmallPhotoUrl\"]},\"sources\":[\"Join User to Events - Created By\",\"User Fields\"]},\"Drop Old Event Fields\":{\"action\":\"sliceDataset\",\"parameters\":{\"fields\":[{\"name\":\"Activity_Subtype__c\"},{\"name\":\"Astra_Tech_Type__c\"}],\"mode\":\"drop\"},\"sources\":[\"Normalize Event Fields\"]},\"Event Relation\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"AccountId\"},{\"name\":\"EventId\"},{\"name\":\"IsWhat\"},{\"name\":\"RelationId\"},{\"name\":\"Response\"},{\"name\":\"Status\"}],\"object\":\"EventRelation\"}},\"User Fields\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"IsActive\"},{\"name\":\"ManagerId\"},{\"name\":\"Name\"},{\"name\":\"UserRoleId\"},{\"name\":\"Title\"},{\"name\":\"District__c\"},{\"name\":\"Movex_Uer_ID__c\"},{\"name\":\"FieldSalesRatioPerc__c\"},{\"name\":\"Full_Name__c\"},{\"name\":\"Market__c\"},{\"name\":\"Profile__c\"},{\"name\":\"Region__c\"},{\"name\":\"Sales_Channel__c\"},{\"name\":\"SBU_Ratio_CERE__c\"},{\"name\":\"SBU_Ratio_ENDO__c\"},{\"name\":\"SBU_Ratio_IMAG__c\"},{\"name\":\"SBU_Ratio_IMPL__c\"},{\"name\":\"SBU_Ratio_INST__c\"},{\"name\":\"SBU_Ratio_ORTH__c\"},{\"name\":\"SBU_Ratio_PREV__c\"},{\"name\":\"SBU_Ratio_PROS__c\"},{\"name\":\"SBU_Ratio_REST__c\"},{\"name\":\"SBU_Ratio_TRCE__c\"},{\"name\":\"User_Country__c\"},{\"name\":\"User_RCO__c\"},{\"name\":\"User_Type__c\"},{\"name\":\"Id\"},{\"name\":\"Implants_User__c\"},{\"name\":\"View_All_Wave_Data__c\"},{\"name\":\"FullPhotoUrl\"},{\"name\":\"SmallPhotoUrl\"},{\"name\":\"MediumPhotoUrl\"}],\"object\":\"User\"}},\"Calculate Prefix\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"RelationId Prefix\",\"name\":\"RelationId_Prefix\",\"saqlExpression\":\"substr('RelationId', 1, 3)\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Event Relation\"]},\"Register ContactCFEs\":{\"action\":\"register\",\"parameters\":{\"label\":\"ContactCFEs\",\"name\":\"ContactCFEs\",\"rowLevelSecurityFilter\":\"false\"},\"sources\":[\"Join Events to Event Relation\"]},\"Join EventRelation to Contact\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"RelationId\"],\"operation\":\"LookupMultiValue\",\"relationship\":\"Contact\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"AccountId\",\"Name\",\"Title\",\"Country__c\",\"Full_Name__c\",\"Inactive__c\",\"Profession__c\",\"Target_Type__c\",\"FirstNameLocal\",\"LastNameLocal\",\"Sub_Contact_Type__c\",\"Contact_Type__c\",\"Degree__c\",\"Email_2_NA__c\",\"Middle_Name__c\",\"Speaker__c\",\"Salutation\",\"Id\"]},\"sources\":[\"Filter for Only Contacts\",\"Contact Fields\"]},\"Contact Fields\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"AccountId\"},{\"name\":\"Name\"},{\"name\":\"FirstName\"},{\"name\":\"LastName\"},{\"name\":\"Title\"},{\"name\":\"Country__c\"},{\"name\":\"Full_Name__c\"},{\"name\":\"Inactive__c\"},{\"name\":\"Profession__c\"},{\"name\":\"Target_Type__c\"},{\"name\":\"Id\"},{\"name\":\"FirstNameLocal\"},{\"name\":\"LastNameLocal\"},{\"name\":\"Sub_Contact_Type__c\"},{\"name\":\"Contact_Type__c\"},{\"name\":\"Degree__c\"},{\"name\":\"Email_2_NA__c\"},{\"name\":\"Middle_Name__c\"},{\"name\":\"Speaker__c\"},{\"name\":\"Salutation\"}],\"object\":\"Contact\"}},\"Filter for Only Contacts\":{\"action\":\"filter\",\"parameters\":{\"saqlFilter\":\"RelationId_Prefix==\\\"003\\\"\"},\"sources\":[\"Calculate Prefix\"]},\"Normalize Account Fields\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"New_Sub_Account_Type__c\",\"name\":\"New_Sub_Account_Type__c\",\"saqlExpression\":\"coalesce('Sub_Account_Type__c',\\\"Not Defined\\\")\",\"type\":\"Text\"},{\"label\":\"New_Rating\",\"name\":\"New_Rating\",\"saqlExpression\":\"coalesce('Rating',\\\"Not Defined\\\")\",\"type\":\"Text\"},{\"label\":\"New_Segment__c\",\"name\":\"New_Segment__c\",\"saqlExpression\":\"coalesce('Segment__c',\\\"Not Defined\\\")\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Import Accounts\"]},\"Event Fields\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"IsAllDayEvent\"},{\"name\":\"OwnerId\"},{\"name\":\"CreatedById\"},{\"name\":\"ActivityDate\"},{\"name\":\"Description\"},{\"name\":\"DurationInMinutes\"},{\"name\":\"EndDateTime\"},{\"name\":\"RecordTypeId\"},{\"name\":\"Location\"},{\"name\":\"WhoId\"},{\"name\":\"IsPrivate\"},{\"name\":\"WhatId\"},{\"name\":\"StartDateTime\"},{\"name\":\"Subject\"},{\"name\":\"ActivityDateTime\"},{\"name\":\"Call_Report__c\"},{\"name\":\"Contact_Id__c\"},{\"name\":\"Co_travel__c\"},{\"name\":\"Customer_Facing_Event__c\"},{\"name\":\"Dealer_Customer__c\"},{\"name\":\"Event_Status__c\"},{\"name\":\"Objective__c\"},{\"isMultiValue\":true,\"multiValueSeparator\":\";\",\"name\":\"SBU__c\",\"type\":\"Text\"},{\"name\":\"Related_To_Name__c\"},{\"name\":\"AccountId\"},{\"name\":\"Id\"},{\"name\":\"Orders_Related_to_CFE__c\"},{\"name\":\"Demonstration__c\"},{\"name\":\"Presentation__c\"},{\"name\":\"Activity_Result__c\"},{\"name\":\"Astra_Tech_Type__c\"},{\"name\":\"Activity_Subtype__c\"}],\"object\":\"Event\"}},\"Rename Event Fields\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"Activity_Subtype__c\",\"name\":\"Activity_Subtype__c\",\"saqlExpression\":\"'New_Activity_Subtype__c'\",\"type\":\"Text\"},{\"label\":\"Astra_Tech_Type__c\",\"name\":\"Astra_Tech_Type__c\",\"saqlExpression\":\"'New_Astra_Tech_Type__c'\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Drop Old Event Fields\"]},\"Normalize Event Fields\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"New_Activity_Subtype__c\",\"name\":\"New_Activity_Subtype__c\",\"saqlExpression\":\"coalesce('Activity_Subtype__c',\\\"No Selection\\\")\",\"type\":\"Text\"},{\"label\":\"New_Astra_Tech_Type__c\",\"name\":\"New_Astra_Tech_Type__c\",\"saqlExpression\":\"case when 'Astra_Tech_Type__c' == \\\"AppointmentConfirmed Sales Visit\\\" then \\\"Appointment/Confirmed Sales Visit\\\" else 'Astra_Tech_Type__c' end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Event Fields\"]},\"Join Event to Call Report\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Id\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Report\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Assigned_To_User_Country__c\",\"Call_Notes__c\",\"Left_Sample__c\",\"Met_with_Assistant__c\",\"Met_with_Decision_Maker__c\",\"Other_SBU_discussed__c\",\"Placed_Order__c\",\"Products_discussed_CDCM__c\",\"Products_discussed_ENDO__c\",\"Products_discussed_IMAG__c\",\"Products_discussed_IMPL__c\",\"Products_discussed_INST__c\",\"Products_discussed_ORTH__c\",\"Products_discussed_PREV__c\",\"Products_discussed_PROS__c\",\"Products_discussed_REST__c\",\"Products_discussed_TRCE__c\",\"track_event__c\"]},\"sources\":[\"Join User to Event - Owner\",\"Call Report Fields\"]},\"Join User to Events - Created By\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"CreatedById\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"CreatedBy\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Full_Name__c\"]},\"sources\":[\"Rename Event Fields\",\"User Fields\"]},\"Import Accounts\":{\"action\":\"dataset\",\"parameters\":{\"name\":\"Accounts\"}}}}",null]