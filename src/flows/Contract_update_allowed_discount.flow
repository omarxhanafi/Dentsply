<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>49.0</apiVersion>
    <assignments>
        <name>Assign_Abutment_equipment</name>
        <label>Assign Abutment equipment</label>
        <locationX>803</locationX>
        <locationY>973</locationY>
        <assignmentItems>
            <assignToReference>Contract.Allowed_discount_abutment_equipment__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Var_used_in_loop.Allowed_discount__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_discounts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Abutment_materials</name>
        <label>Assign Abutment materials</label>
        <locationX>802</locationX>
        <locationY>882</locationY>
        <assignmentItems>
            <assignToReference>Contract.Allowed_discount_abutment_materials__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Var_used_in_loop.Allowed_discount__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_discounts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_deserved_equipment</name>
        <label>Assign deserved, equipment</label>
        <locationX>944</locationX>
        <locationY>155</locationY>
        <assignmentItems>
            <assignToReference>Contract.Deserved_discount_equipment__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Var_used_in_2loop.Allowed_discount__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_deserved_discounts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_deserved_materials</name>
        <label>Assign deserved, materials</label>
        <locationX>948</locationX>
        <locationY>58</locationY>
        <assignmentItems>
            <assignToReference>Contract.Deserved_discount_materials__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Var_used_in_2loop.Allowed_discount__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_deserved_discounts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_implants_equipment</name>
        <label>Assign implants equipment</label>
        <locationX>807</locationX>
        <locationY>795</locationY>
        <assignmentItems>
            <assignToReference>Contract.Allowed_discount_Implants_equipment__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Var_used_in_loop.Allowed_discount__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_discounts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_implants_materials</name>
        <label>Assign implants materials</label>
        <locationX>809</locationX>
        <locationY>688</locationY>
        <assignmentItems>
            <assignToReference>Contract.Allowed_discount_Implants_materials__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Var_used_in_loop.Allowed_discount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Contract.Row_discount_impl_mat__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Var_used_in_loop.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_discounts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_original_sales</name>
        <label>Assign original sales</label>
        <locationX>236</locationX>
        <locationY>302</locationY>
        <assignmentItems>
            <assignToReference>Original_implant_L12M</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Contract.Implant_volume_L12M__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Original_sales_L12M</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Contract.Sales_L12M__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Lookup_discounts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_payment_discount</name>
        <label>Assign payment discount</label>
        <locationX>803</locationX>
        <locationY>1240</locationY>
        <assignmentItems>
            <assignToReference>Contract.Payment_discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Var_used_in_loop.Allowed_discount__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_discounts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_pooling_equipment</name>
        <label>Assign pooling equipment</label>
        <locationX>802</locationX>
        <locationY>1154</locationY>
        <assignmentItems>
            <assignToReference>Contract.Allowed_discount_pooling_equipment__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Var_used_in_loop.Allowed_discount__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_discounts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_pooling_materials</name>
        <label>Assign pooling materials</label>
        <locationX>803</locationX>
        <locationY>1064</locationY>
        <assignmentItems>
            <assignToReference>Contract.Allowed_discount_pooling_materials__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Var_used_in_loop.Allowed_discount__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_discounts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_revenue_equipment</name>
        <label>Assign revenue equipment</label>
        <locationX>812</locationX>
        <locationY>588</locationY>
        <assignmentItems>
            <assignToReference>Contract.Allowed_discount_revenue_equipments__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Var_used_in_loop.Allowed_discount__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_discounts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_revenue_materials</name>
        <label>Assign revenue materials</label>
        <locationX>816</locationX>
        <locationY>480</locationY>
        <assignmentItems>
            <assignToReference>Contract.Allowed_discount_revenue_materials__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Var_used_in_loop.Allowed_discount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Contract.Row_discount_rev_mat__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Var_used_in_loop.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_discounts</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Check_deserved_discount</name>
        <label>Check deserved discount</label>
        <locationX>664</locationX>
        <locationY>78</locationY>
        <defaultConnector>
            <targetReference>Loop_deserved_discounts</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>Deserved_discount_materials2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Var_used_in_2loop.Max_perc__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Contract.Actual_commitment_materials__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_2loop.Min_perc__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Actual_commitment_materials__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_2loop.Discount_lever__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Implant: materials</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_2loop.Discount_Model__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Discount_model__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_deserved_materials</targetReference>
            </connector>
            <label>Deserved discount materials</label>
        </rules>
        <rules>
            <name>Deserved_discount_equipment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Var_used_in_2loop.Max_perc__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Contract.Actual_commitment_materials__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_2loop.Min_perc__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Actual_commitment_materials__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_2loop.Discount_lever__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Implants: equipments &amp; instruments</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_2loop.Discount_Model__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Discount_model__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_deserved_equipment</targetReference>
            </connector>
            <label>Deserved discount equipment</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_range</name>
        <label>Check range</label>
        <locationX>458</locationX>
        <locationY>508</locationY>
        <defaultConnector>
            <targetReference>Loop_discounts</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>Revenue_materials</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Var_used_in_loop.Max__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Contract.Revenue_basis_for_allowance__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Min__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Revenue_basis_for_allowance__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_Model__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Discount_model__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_lever__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Revenue: materials</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_revenue_materials</targetReference>
            </connector>
            <label>Revenue: materials</label>
        </rules>
        <rules>
            <name>Revenue_equipment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Var_used_in_loop.Max__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Contract.Revenue_basis_for_allowance__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Min__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Revenue_basis_for_allowance__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_Model__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Discount_model__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_lever__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Revenue: equipments &amp; instruments</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_revenue_equipment</targetReference>
            </connector>
            <label>Revenue: equipment</label>
        </rules>
        <rules>
            <name>Implants_materials</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Var_used_in_loop.Max_perc__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Contract.Implant_commitment_perc__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Min_perc__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Implant_commitment_perc__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_lever__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Implant: materials</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_Model__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Discount_model__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_implants_materials</targetReference>
            </connector>
            <label>Implants: materials</label>
        </rules>
        <rules>
            <name>Implants_equipment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Var_used_in_loop.Max_perc__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Contract.Implant_commitment_perc__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Min_perc__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Implant_commitment_perc__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_Model__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Discount_model__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_lever__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Implants: equipments &amp; instruments</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_implants_equipment</targetReference>
            </connector>
            <label>Implants: equipment</label>
        </rules>
        <rules>
            <name>Abutments_materials</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Var_used_in_loop.Max_perc__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Contract.Abutment_commitment_perc__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Min_perc__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Abutment_commitment_perc__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_lever__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Abutments: materials</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_Model__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Discount_model__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Abutment_materials</targetReference>
            </connector>
            <label>Abutments: materials</label>
        </rules>
        <rules>
            <name>Abutments_equipment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Var_used_in_loop.Max_perc__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Contract.Abutment_commitment_perc__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Min_perc__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Abutment_commitment_perc__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_lever__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Abutments: equipments &amp; instruments</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_Model__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Discount_model__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Abutment_equipment</targetReference>
            </connector>
            <label>Abutments: equipment</label>
        </rules>
        <rules>
            <name>Pooled_order_materials</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Var_used_in_loop.Max__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Contract.Pooled_order_commitment__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Min__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Pooled_order_commitment__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_lever__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pooled implant order: Material</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_Model__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Discount_model__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_pooling_materials</targetReference>
            </connector>
            <label>Pooled order: materials</label>
        </rules>
        <rules>
            <name>Pooled_order_equipment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Var_used_in_loop.Max__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Contract.Pooled_order_commitment__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Min__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Pooled_order_commitment__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_lever__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pooled implant order: Equipment</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_Model__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Discount_model__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_pooling_equipment</targetReference>
            </connector>
            <label>Pooled order: equipment</label>
        </rules>
        <rules>
            <name>Payment_discount</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Var_used_in_loop.Discount_lever__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Payment type</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Var_used_in_loop.Equals__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Contract.Payment_terms__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_payment_discount</targetReference>
            </connector>
            <label>Payment discount</label>
        </rules>
    </decisions>
    <interviewLabel>Contract: update discount {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Contract: update allowed discount</label>
    <loops>
        <name>Loop_deserved_discounts</name>
        <label>Loop deserved discounts</label>
        <locationX>826</locationX>
        <locationY>223</locationY>
        <assignNextValueToReference>Var_used_in_2loop</assignNextValueToReference>
        <collectionReference>Discount_rows</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_deserved_discount</targetReference>
        </nextValueConnector>
    </loops>
    <loops>
        <name>Loop_discounts</name>
        <label>Loop discounts</label>
        <locationX>581</locationX>
        <locationY>303</locationY>
        <assignNextValueToReference>Var_used_in_loop</assignNextValueToReference>
        <collectionReference>Discount_rows</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_range</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_contract</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Lookup_contract</name>
        <label>Lookup contract</label>
        <locationX>35</locationX>
        <locationY>302</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_original_sales</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Var_contract</elementReference>
            </value>
        </filters>
        <object>Contract</object>
        <outputReference>Contract</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Revenue_basis_for_allowance__c</queriedFields>
        <queriedFields>Discount_model__c</queriedFields>
        <queriedFields>Implant_commitment_perc__c</queriedFields>
        <queriedFields>Abutment_commitment_perc__c</queriedFields>
        <queriedFields>Pooled_order_commitment_perc__c</queriedFields>
        <queriedFields>New_customer__c</queriedFields>
        <queriedFields>Revenue_forecast__c</queriedFields>
        <queriedFields>Implant_forecast__c</queriedFields>
        <queriedFields>Implant_volume_L12M__c</queriedFields>
        <queriedFields>Payment_terms__c</queriedFields>
        <queriedFields>Sales_L12M__c</queriedFields>
        <queriedFields>Pooled_order_commitment__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Lookup_discounts</name>
        <label>Lookup discounts</label>
        <locationX>430</locationX>
        <locationY>303</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_discounts</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Discount_Model__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Contract.Discount_model__c</elementReference>
            </value>
        </filters>
        <object>Discount_row__c</object>
        <outputReference>Discount_rows</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Discount_lever__c</queriedFields>
        <queriedFields>Min__c</queriedFields>
        <queriedFields>Max__c</queriedFields>
        <queriedFields>Allowed_discount__c</queriedFields>
        <queriedFields>Discount_Model__c</queriedFields>
        <queriedFields>Max_perc__c</queriedFields>
        <queriedFields>Min_perc__c</queriedFields>
        <queriedFields>Equals__c</queriedFields>
    </recordLookups>
    <recordUpdates>
        <name>Update_contract</name>
        <label>Update contract</label>
        <locationX>1093</locationX>
        <locationY>311</locationY>
        <inputReference>Contract</inputReference>
    </recordUpdates>
    <startElementReference>Lookup_contract</startElementReference>
    <status>Active</status>
    <variables>
        <name>Contract</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Contract</objectType>
    </variables>
    <variables>
        <name>Contract_loop</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Contract</objectType>
    </variables>
    <variables>
        <name>Contract_loop_result</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Contract</objectType>
    </variables>
    <variables>
        <name>Discount_rows</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Discount_row__c</objectType>
    </variables>
    <variables>
        <name>Original_implant_L12M</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>Original_sales_L12M</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>Var_contract</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Var_used_in_2loop</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Discount_row__c</objectType>
    </variables>
    <variables>
        <name>Var_used_in_loop</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Discount_row__c</objectType>
    </variables>
</Flow>
